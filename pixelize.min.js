window.onresize=function(){imageEditor.ui.resizeEditor()};let imageData,colors,percent,isInitialize=!1,i=setInterval(()=>{if(document.querySelector(".lower-canvas")&&document.querySelector(".upper-canvas")&&document.querySelector(".tui-image-editor-load-btn")){clearInterval(i);let t=document.querySelector(".lower-canvas").getContext("2d"),o=document.querySelector(".upper-canvas"),a=o.getContext("2d");o.addEventListener("mousemove",e,!1);let r=!1;function e(e){e.layerX||0==e.layerX?(e._x=e.layerX,e._y=e.layerY):(e.offsetX||0==e.offsetX)&&(e._x=e.offsetX,e._y=e.offsetY),percent=e._x/o.offsetWidth,colors=[],isInitialize||(imageData=t.getImageData(0,0,o.width,o.height),isInitialize=!0),a.putImageData(imageData,0,0);for(var i=0;i<o.height;i++)colors.push(t.getImageData(o.width*percent,i,1,1).data);for(i=0;i<colors.length;i++)a.fillStyle=`rgba(${colors[i][0]},${colors[i][1]},${colors[i][2]},${colors[i][3]})`,a.fillRect(o.width*percent,i,o.width-o.width*percent,1)}o.addEventListener("click",()=>{r?o.addEventListener("mousemove",e,!1):o.removeEventListener("mousemove",e,!1),r=!r},!1)}},10);function onChangeFile(){isInitialize=!1,imageData=null}
